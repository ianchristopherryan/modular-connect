{"Version":"2019-10-30","StartAction":"d5ccf997-01c9-4887-aa71-8284dacd3bc4","Metadata":{"entryPointPosition":{"x":-9.6,"y":106.4},"ActionMetadata":{"9d5b6e0e-f15f-40a4-9cf6-d7684024ca70":{"position":{"x":210.4,"y":317.6},"dynamicParams":[]},"f9d19ade-926f-4d3a-a195-907c39356f49":{"position":{"x":1024.8,"y":-136}},"181e37ec-0c62-4c28-8ca8-b940ffd38b9f":{"position":{"x":1036,"y":64}},"251f22c3-a83c-4634-8c11-9ef0db2407ef":{"position":{"x":1009.6,"y":-343.2}},"70c7ada5-c274-4a34-b190-e7d4a3464c85":{"position":{"x":1315.2,"y":-73.6},"parameters":{"Attributes":{"internal_estimated_wait_time":{"useDynamic":true}}},"dynamicParams":["internal_estimated_wait_time"]},"fe758e6b-3229-4f0a-b56c-26d8a2d42980":{"position":{"x":1587.2,"y":-76.8}},"d3ab90a2-4df3-46b5-94d8-c535798a2f9f":{"position":{"x":728.8,"y":-111.2},"conditionMetadata":[{"id":"bb0d3643-6ff4-44dd-85aa-a4a63f816920","operator":{"name":"Is greater than","value":"GreaterThan","shortDisplay":">"},"value":"30"},{"id":"9095e95a-20ef-476a-a7f5-c96dad0edb30","operator":{"name":"Is greater than","value":"GreaterThan","shortDisplay":">"},"value":"5"},{"id":"172d342b-4011-4894-8450-94c6a1152149","operator":{"name":"Is less than","value":"LessThan","shortDisplay":"<"},"value":"5"}]},"d5ccf997-01c9-4887-aa71-8284dacd3bc4":{"position":{"x":160.8,"y":44.8},"parameters":{"LambdaFunctionARN":{"displayName":"modular_connect_json_to_attributes"},"LambdaInvocationAttributes":{"jsonString":{"useDynamic":true}}},"dynamicMetadata":{"jsonString":true}},"2071e50c-52e1-44ed-b02b-77b4835366c4":{"position":{"x":1592,"y":291.2}},"4405acd7-e479-44fc-8c16-c4bde22733e3":{"position":{"x":454.4,"y":140.8}}},"name":"EstimatedWaitTime","description":"This flow is part of the Modular Connect Solution from www.ianchristopherryan.com. For license information please view the source on github.","status":"published","hash":{}},"Actions":[{"Parameters":{"Attributes":{"module_output_result":"error"}},"Identifier":"9d5b6e0e-f15f-40a4-9cf6-d7684024ca70","Type":"UpdateContactAttributes","Transitions":{"NextAction":"2071e50c-52e1-44ed-b02b-77b4835366c4","Errors":[{"NextAction":"2071e50c-52e1-44ed-b02b-77b4835366c4","ErrorType":"NoMatchingError"}]}},{"Parameters":{"Text":"The estimated wait time for your call is less than 30 minutes."},"Identifier":"f9d19ade-926f-4d3a-a195-907c39356f49","Type":"MessageParticipant","Transitions":{"NextAction":"70c7ada5-c274-4a34-b190-e7d4a3464c85","Errors":[{"NextAction":"70c7ada5-c274-4a34-b190-e7d4a3464c85","ErrorType":"NoMatchingError"}]}},{"Parameters":{"Text":"The estimated wait time for your call is less than 5 minutes."},"Identifier":"181e37ec-0c62-4c28-8ca8-b940ffd38b9f","Type":"MessageParticipant","Transitions":{"NextAction":"70c7ada5-c274-4a34-b190-e7d4a3464c85","Errors":[{"NextAction":"70c7ada5-c274-4a34-b190-e7d4a3464c85","ErrorType":"NoMatchingError"}]}},{"Parameters":{"Text":"The estimated wait time for your call is longer than 30 minutes."},"Identifier":"251f22c3-a83c-4634-8c11-9ef0db2407ef","Type":"MessageParticipant","Transitions":{"NextAction":"70c7ada5-c274-4a34-b190-e7d4a3464c85","Errors":[{"NextAction":"70c7ada5-c274-4a34-b190-e7d4a3464c85","ErrorType":"NoMatchingError"}]}},{"Parameters":{"Attributes":{"internal_estimated_wait_time":"$.Metrics.Queue.OldestContactAge"}},"Identifier":"70c7ada5-c274-4a34-b190-e7d4a3464c85","Type":"UpdateContactAttributes","Transitions":{"NextAction":"fe758e6b-3229-4f0a-b56c-26d8a2d42980","Errors":[{"NextAction":"2071e50c-52e1-44ed-b02b-77b4835366c4","ErrorType":"NoMatchingError"}]}},{"Parameters":{},"Identifier":"fe758e6b-3229-4f0a-b56c-26d8a2d42980","Type":"EndFlowModuleExecution","Transitions":{}},{"Parameters":{"ComparisonValue":"$.Metrics.Queue.OldestContactAge"},"Identifier":"d3ab90a2-4df3-46b5-94d8-c535798a2f9f","Type":"Compare","Transitions":{"NextAction":"181e37ec-0c62-4c28-8ca8-b940ffd38b9f","Conditions":[{"NextAction":"251f22c3-a83c-4634-8c11-9ef0db2407ef","Condition":{"Operator":"NumberGreaterThan","Operands":["30"]}},{"NextAction":"f9d19ade-926f-4d3a-a195-907c39356f49","Condition":{"Operator":"NumberGreaterThan","Operands":["5"]}},{"NextAction":"181e37ec-0c62-4c28-8ca8-b940ffd38b9f","Condition":{"Operator":"NumberLessThan","Operands":["5"]}}],"Errors":[{"NextAction":"181e37ec-0c62-4c28-8ca8-b940ffd38b9f","ErrorType":"NoMatchingCondition"}]}},{"Parameters":{"LambdaFunctionARN":"arn:aws:lambda:ap-southeast-2:202030678599:function:modular_connect_json_to_attributes","InvocationTimeLimitSeconds":"3","LambdaInvocationAttributes":{"jsonString":"$.Attributes.internal_module_executor_settings"},"ResponseValidation":{"ResponseType":"STRING_MAP"}},"Identifier":"d5ccf997-01c9-4887-aa71-8284dacd3bc4","Type":"InvokeLambdaFunction","Transitions":{"NextAction":"4405acd7-e479-44fc-8c16-c4bde22733e3","Errors":[{"NextAction":"9d5b6e0e-f15f-40a4-9cf6-d7684024ca70","ErrorType":"NoMatchingError"}]}},{"Parameters":{},"Identifier":"2071e50c-52e1-44ed-b02b-77b4835366c4","Type":"DisconnectParticipant","Transitions":{}},{"Parameters":{},"Identifier":"4405acd7-e479-44fc-8c16-c4bde22733e3","Type":"GetMetricData","Transitions":{"NextAction":"d3ab90a2-4df3-46b5-94d8-c535798a2f9f","Errors":[{"NextAction":"2071e50c-52e1-44ed-b02b-77b4835366c4","ErrorType":"NoMatchingError"}]}}],"Settings":{"InputParameters":[],"OutputParameters":[],"Transitions":[{"DisplayName":"Success","ReferenceName":"Success","Description":""},{"DisplayName":"Error","ReferenceName":"Error","Description":""}]}}