{"Version":"2019-10-30","StartAction":"73ad6f0b-9151-4ce4-bbaf-546e6f16409e","Metadata":{"entryPointPosition":{"x":-792.8,"y":262.4},"ActionMetadata":{"73ad6f0b-9151-4ce4-bbaf-546e6f16409e":{"position":{"x":-642.4,"y":213.6},"parameters":{"LambdaFunctionARN":{"displayName":"modular_connect_json_to_attributes"},"LambdaInvocationAttributes":{"jsonString":{"useDynamic":true}}},"dynamicMetadata":{"jsonString":true}},"49039a81-8a85-4410-b165-7b9a5aca2f35":{"position":{"x":-340,"y":132},"conditionMetadata":[{"id":"55427d84-fc9e-420d-8024-73a53ea6d1d0","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"text"},{"id":"10f17f3d-1843-42a4-8644-caaf35f2d245","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"ssml"},{"id":"5df5a0d4-28ad-458f-8341-3d0f58dbe54d","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"s3"},{"id":"1bf5764c-a1cc-44bc-b2e4-7b0a8b58e123","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"prompt"}]},"ef1dada1-44e5-4602-96ab-354659f21a1f":{"position":{"x":-48.8,"y":-58.4},"parameters":{"Text":{"useDynamic":true}},"useDynamic":true},"ae4deaca-90a3-4425-b6bc-ce05673c36c6":{"position":{"x":-8,"y":132},"parameters":{"SSML":{"useDynamic":true}},"useDynamic":true},"a26aeadc-05d6-46f1-9a51-3a6a52e6a629":{"position":{"x":-6.4,"y":336.8},"parameters":{"Media":{"Uri":{"useDynamic":true}}},"useDynamic":true},"f316ce01-756b-4247-92dc-4bbdb4a0dd0d":{"position":{"x":-37.6,"y":525.6},"parameters":{"PromptId":{"useDynamic":true}},"useDynamic":true},"7274fb80-ab5c-414e-9825-6a8843f16cbb":{"position":{"x":276.8,"y":809.6},"dynamicParams":[]},"9dedcce2-df55-41dc-ad97-4b1957fce806":{"position":{"x":344.8,"y":296.8},"dynamicParams":[]},"564013c8-f529-4498-9f8d-9f606cfeefcb":{"position":{"x":610.4,"y":628.8}}},"name":"PlayPrompt","description":"This flow is part of the Modular Connect Solution from www.ianchristopherryan.com. For license information please view the source on github.","status":"published","hash":{}},"Actions":[{"Parameters":{"LambdaFunctionARN":"arn:aws:lambda:ap-southeast-2:202030678599:function:modular_connect_json_to_attributes","InvocationTimeLimitSeconds":"3","LambdaInvocationAttributes":{"jsonString":"$.Attributes.internal_module_executor_settings"},"ResponseValidation":{"ResponseType":"STRING_MAP"}},"Identifier":"73ad6f0b-9151-4ce4-bbaf-546e6f16409e","Type":"InvokeLambdaFunction","Transitions":{"NextAction":"49039a81-8a85-4410-b165-7b9a5aca2f35","Errors":[{"NextAction":"7274fb80-ab5c-414e-9825-6a8843f16cbb","ErrorType":"NoMatchingError"}]}},{"Parameters":{"ComparisonValue":"$.External.module_setting_PromptType"},"Identifier":"49039a81-8a85-4410-b165-7b9a5aca2f35","Type":"Compare","Transitions":{"NextAction":"7274fb80-ab5c-414e-9825-6a8843f16cbb","Conditions":[{"NextAction":"ef1dada1-44e5-4602-96ab-354659f21a1f","Condition":{"Operator":"Equals","Operands":["text"]}},{"NextAction":"ae4deaca-90a3-4425-b6bc-ce05673c36c6","Condition":{"Operator":"Equals","Operands":["ssml"]}},{"NextAction":"a26aeadc-05d6-46f1-9a51-3a6a52e6a629","Condition":{"Operator":"Equals","Operands":["s3"]}},{"NextAction":"f316ce01-756b-4247-92dc-4bbdb4a0dd0d","Condition":{"Operator":"Equals","Operands":["prompt"]}}],"Errors":[{"NextAction":"7274fb80-ab5c-414e-9825-6a8843f16cbb","ErrorType":"NoMatchingCondition"}]}},{"Parameters":{"Text":"$.External.module_setting_PromptValue"},"Identifier":"ef1dada1-44e5-4602-96ab-354659f21a1f","Type":"MessageParticipant","Transitions":{"NextAction":"9dedcce2-df55-41dc-ad97-4b1957fce806","Errors":[{"NextAction":"7274fb80-ab5c-414e-9825-6a8843f16cbb","ErrorType":"NoMatchingError"}]}},{"Parameters":{"SSML":"$.External.module_setting_PromptValue"},"Identifier":"ae4deaca-90a3-4425-b6bc-ce05673c36c6","Type":"MessageParticipant","Transitions":{"NextAction":"9dedcce2-df55-41dc-ad97-4b1957fce806","Errors":[{"NextAction":"7274fb80-ab5c-414e-9825-6a8843f16cbb","ErrorType":"NoMatchingError"}]}},{"Parameters":{"Media":{"Uri":"$.External.module_setting_PromptValue","SourceType":"S3","MediaType":"Audio"}},"Identifier":"a26aeadc-05d6-46f1-9a51-3a6a52e6a629","Type":"MessageParticipant","Transitions":{"NextAction":"9dedcce2-df55-41dc-ad97-4b1957fce806","Errors":[{"NextAction":"7274fb80-ab5c-414e-9825-6a8843f16cbb","ErrorType":"NoMatchingError"}]}},{"Parameters":{"PromptId":"$.External.module_setting_PromptValue"},"Identifier":"f316ce01-756b-4247-92dc-4bbdb4a0dd0d","Type":"MessageParticipant","Transitions":{"NextAction":"9dedcce2-df55-41dc-ad97-4b1957fce806","Errors":[{"NextAction":"7274fb80-ab5c-414e-9825-6a8843f16cbb","ErrorType":"NoMatchingError"}]}},{"Parameters":{"Attributes":{"module_output_result":"error"}},"Identifier":"7274fb80-ab5c-414e-9825-6a8843f16cbb","Type":"UpdateContactAttributes","Transitions":{"NextAction":"564013c8-f529-4498-9f8d-9f606cfeefcb","Errors":[{"NextAction":"564013c8-f529-4498-9f8d-9f606cfeefcb","ErrorType":"NoMatchingError"}]}},{"Parameters":{"Attributes":{"module_output_result":"success"}},"Identifier":"9dedcce2-df55-41dc-ad97-4b1957fce806","Type":"UpdateContactAttributes","Transitions":{"NextAction":"564013c8-f529-4498-9f8d-9f606cfeefcb","Errors":[{"NextAction":"564013c8-f529-4498-9f8d-9f606cfeefcb","ErrorType":"NoMatchingError"}]}},{"Parameters":{},"Identifier":"564013c8-f529-4498-9f8d-9f606cfeefcb","Type":"EndFlowModuleExecution","Transitions":{}}],"Settings":{"InputParameters":[],"OutputParameters":[],"Transitions":[{"DisplayName":"Success","ReferenceName":"Success","Description":""},{"DisplayName":"Error","ReferenceName":"Error","Description":""}]}}